(()=>{"use strict";var e,t={18187(e){e.exports=PanoptoReactComponents},23087(e,t,r){r.d(t,{A:()=>p});var i=r(76982);function n(e,t,r){let i=r[r.length-1];e.replaceChild(i,t);for(let t=r.length-2;t>=0;t--)e.insertBefore(r[t],i),i=r[t]}function s(e,t,r){const i=[];for(let n=0;n<e.length;n++){const s=e[n];"nl"===s.t&&t.get("nl2br")?i.push(r.createElement("br")):s.isLink&&t.check(s)?i.push(t.render(s)):i.push(r.createTextNode(s.toString()))}return i}function o(e,t,r){if(!e||1!==e.nodeType)throw new Error(`Cannot linkify ${e} - Invalid DOM Node type`);if("A"===e.tagName||t.ignoreTags.indexOf(e.tagName)>=0)return e;let a=e.firstChild;for(;a;){let p,c,l;switch(a.nodeType){case 1:o(a,t,r);break;case 3:if(p=a.nodeValue,c=(0,i.qw)(p),0===c.length||1===c.length&&"text"===c[0].t)break;l=s(c,t,r),n(e,a,l),a=l[l.length-1]}a=a.nextSibling}return e}function a(e){return({tagName:t,attributes:r,content:i,eventListeners:n})=>{const s=e.createElement(t);for(const e in r)s.setAttribute(e,r[e]);if(n&&s.addEventListener)for(const e in n)s.addEventListener(e,n[e]);return s.appendChild(e.createTextNode(i)),s}}function p(e,t=null,n=null){try{n=n||document||window&&window.document||r.g&&r.g.document}catch(e){}if(!n)throw new Error("Cannot find document implementation. If you are in a non-browser environment like Node.js, pass the document implementation as the third argument to linkifyElement.");return o(e,new i.JY(t,a(n)),n)}p.helper=o,p.getDefaultRender=a,p.normalize=(e,t)=>new i.JY(e,a(t))},25988(e,t,r){var i=r(18187),n=r(97287);Panopto.DetailsTab=(0,i.bootstrapReactComponent)(n.q)},41594(e){e.exports=React},97287(e,t,r){r.d(t,{q:()=>l});var i=r(54380),n=r(50266),s=r(23087),o=r(41594),a=r(18187),p=r(87883),c=function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};class l extends o.Component{constructor(e){super(e),this.state={ownerHovered:!1,ownerClientRect:void 0}}componentDidMount(){this.configureName(),this.configureDescription()}componentDidUpdate(e){const t=!e.isVisible&&this.props.isVisible,r=e.tabWidth!==this.props.tabWidth||e.tabHeight!==this.props.tabHeight;this.props.editor&&(t||r)&&(this.nameInputEditor.resize(),this.descriptionEditor.resize()),this.props.editor&&this.props.name!==e.name&&this.nameInputEditor?.resetValue(this.props.name)}configureName(){if(this.props.editor){const e=this.props.name?.trim()||"",t=$(this.nameInputElement);t.attr(Panopto.Core.Constants.InitAttribute,e),t.val(e),this.nameInputEditor=Panopto.Core.UI.Components.editableLabel(t,(e=>{const r=this.props.editor.session();r.name=e,Panopto.Core.ServiceInterface.Rest.Sessions.update(r,(()=>{this.nameInputEditor.save(),this.props.onSessionNameUpdate?.(e)}),(()=>{this.nameInputEditor.revert(),r.name=t.val()}))}),!0),this.nameInputEditor.resize()}}configureDescription(){const e=$(this.descriptionElement),t=this.props.description?.trim()||"";this.props.editor?(e.attr(Panopto.Core.Constants.InitAttribute,t),e.val(t),this.descriptionEditor=Panopto.Core.UI.Components.editableLabel(e,(t=>{const r=this.props.editor.session();r.description=t,Panopto.Core.ServiceInterface.Rest.Sessions.update(r,(()=>{this.descriptionEditor.save()}),(()=>{this.descriptionEditor.revert(),r.description=e.val()}))}),!0),this.descriptionEditor.resize()):t&&this.props.linkify&&(e.empty(),this.setTextWithLinks(this.descriptionElement,t))}setTextWithLinks(e,t){Panopto.Core.TextHelpers.addMultilineStringToElement(t,e),(0,s.A)(e,{attributes:{rel:"ugc"},target:"_blank"})}handleOwnerEnter(){this.setState({ownerHovered:!0,ownerClientRect:this.ownerElement?.getBoundingClientRect()})}handleOwnerLeave(){this.setState({ownerHovered:!1})}render(){const e=!!this.props.editor,t=this.props.description?.trim();return(0,i.FD)(i.FK,{children:[e&&(0,i.FD)(i.FK,{children:[(0,i.Y)("div",{className:"header title",children:this.props.resources.ViewerPlus_Edit_Modal_Title}),(0,i.Y)("textarea",{className:"name editor",dir:"auto","aria-label":this.props.resources.ViewerPlus_Edit_Modal_Title,ref:e=>this.nameInputElement=e})]}),!e&&(0,i.Y)("div",{className:"name",children:this.props.name}),e&&(0,i.FD)(i.FK,{children:[(0,i.Y)("div",{className:"header",children:this.props.resources.Description}),(0,i.Y)("textarea",{id:"editDescriptionInput",className:"description",dir:"auto",maxLength:5e3,placeholder:this.props.resources.ViewerPlus_Edit_AddADescription,"aria-label":this.props.resources.ViewerPlus_Edit_AddADescription,ref:e=>this.descriptionElement=e})]}),!e&&t&&(0,i.Y)("div",{className:"description",ref:e=>this.descriptionElement=e,children:t}),this.props.tagsEnabled&&(0,i.FD)(i.FK,{children:[e&&(0,i.Y)("div",{className:"header",children:this.props.resources.Tag_AdminTitle}),(!!this.props.tags.length||e)&&(0,i.Y)("div",{className:"tags-wrapper",children:(0,i.Y)(p.d,{sessionId:this.props.sessionId,fetchTags:!1,initialTags:this.props.tags,canAdd:e,canDelete:e,searchOnClick:!e,searchInNewTab:!0,tagsService:this.props.tagService,subscriptionService:this.props.subscriptionService,userService:this.props.userService,resources:this.props.resources})})]}),this.props.ownerFullName&&(0,i.FD)(i.FK,{children:[e&&(0,i.Y)("div",{className:"header",children:this.props.resources.Tag_CreatedByColumn}),(0,i.FD)("div",{className:"owner",onMouseEnter:this.handleOwnerEnter,onMouseLeave:this.handleOwnerLeave,onFocus:this.handleOwnerEnter,onBlur:this.handleOwnerLeave,tabIndex:this.props.subscriptionsEnabled?0:void 0,ref:e=>this.ownerElement=e,children:[(0,i.Y)("i",{className:"material-icons",children:"person_outline"}),this.props.ownerFullName]}),this.props.subscriptionsEnabled&&Panopto.user.isAuthenticated&&(0,i.Y)(a.Subscriptions.SubscriptionHover,{id:this.props.ownerId,name:this.props.ownerFullName,type:AutoRestModels.SubscribableType.User,isSubscriptionsEnabled:Panopto.features.subscriptionsEnabled,subscriptionService:this.props.subscriptionService,userService:this.props.userService,topOffset:this.state.ownerClientRect?.top+5,initialLeftOffset:this.state.ownerClientRect?.left,isHovered:this.state.ownerHovered,resources:this.props.resources})]})]})}}c([n.Q2],l.prototype,"handleOwnerEnter",null),c([n.Q2],l.prototype,"handleOwnerLeave",null)}},r={};function i(e){var n=r[e];if(void 0!==n)return n.exports;var s=r[e]={id:e,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.exports}i.m=t,e=[],i.O=(t,r,n,s)=>{if(!r){var o=1/0;for(l=0;l<e.length;l++){for(var[r,n,s]=e[l],a=!0,p=0;p<r.length;p++)(!1&s||o>=s)&&Object.keys(i.O).every((e=>i.O[e](r[p])))?r.splice(p--,1):(a=!1,s<o&&(o=s));if(a){e.splice(l--,1);var c=n();void 0!==c&&(t=c)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[r,n,s]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.j=4660,(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=r[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{i.b="undefined"!=typeof document&&document.baseURI||self.location.href;var e={4660:0};i.O.j=t=>0===e[t];var t=(t,r)=>{var n,s,[o,a,p]=r,c=0;if(o.some((t=>0!==e[t]))){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);if(p)var l=p(i)}for(t&&t(r);c<o.length;c++)s=o[c],i.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return i.O(l)},r=this.webpackChunk_panopto_webpack=this.webpackChunk_panopto_webpack||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),i.nc=void 0;var n=i.O(void 0,[4223],(()=>i(25988)));n=i.O(n)})();
//# sourceMappingURL=file://engfs.d.panopto.com/share/jenkinsbuilds/rel_rtc_16.4.0/16.4.0.00038/_PublishedWebsites/WebUI/Scripts/Panopto/Bundles/DetailsTab.js.map