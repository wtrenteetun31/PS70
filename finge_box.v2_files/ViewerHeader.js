(()=>{"use strict";var e,o={5780(e,o,t){t.d(o,{k:()=>u});var i=t(54380),n=t(41594),r=t(94356),s=t(84447),a=t(18187),l=t(54782),c=t(92627),d=t(73991);const p={switchContainer:(0,l.css)({display:"flex",alignItems:"center"})},u=({sessionId:e,sessionName:o,sessionFolderName:t,sessionFolderId:l,changeSetId:u,showToggle:h,onClose:g})=>{const{t:v}=a.I18n.useTranslation("vcms"),{openSnackbar:S}=a.Hig.useSnackbar(),[w,m]=(0,n.useState)(!1);return(0,i.Y)(d.$,{title:v("ViewerHeaderActions_SaveAs"),sessionName:o,sessionFolderId:l,sessionFolderName:t,toggleInput:h&&(0,i.FD)("div",{css:p.switchContainer,children:[(0,i.Y)(a.Hig.Switch,{checked:w,color:"primary",label:v("SaveAsDialog_ToggleLabel"),onClick:()=>m(!w)}),(0,i.Y)(a.Hig.InfoHover,{offset:[-208,8],message:v("SaveAsDialog_InfoHoverMessage")})]}),infoText:w&&(0,i.Y)(a.Dialogs.DialogInfoSection,{iconPath:r.Znq,children:v("SaveAsDialog_InfoTextMessage")}),onConfirm:async(o,t)=>{const i=(0,s.buildAppUrl)(["Pages","Viewer","SessionNotReady.aspx"],{queryParams:{sessionName:o}}),n=window.open(i,"_blank");try{const i=await(0,c.e)(e,{copyType:w?"Destructive":"Full",name:o,folderId:t,changeSetId:u});if(S({message:v("CopyDialog_SuccessToast",{name:o}),color:"info"}),n&&i.newDeliveryId){const e=(0,s.buildAppUrl)(["Pages","Viewer.aspx"],{queryParams:{id:i.newDeliveryId,edit:"true"}});n.location.href=e}}catch{S({message:v("CopyDialog_ErrorToast"),color:"error"}),n?.close()}finally{g()}},onClose:g})}},11135(e){e.exports=PanoptoCore},18187(e){e.exports=PanoptoReactComponents},18274(e,o,t){t.d(o,{B:()=>d});var i=t(54380),n=t(41594),r=t(94356),s=t(18187),a=t(54782),l=t(53163);const c={messageState:(0,a.css)({display:"flex",alignItems:"center",whiteSpace:"nowrap",overflow:"hidden"}),messageStateError:(0,a.css)({color:a.colorRed})},d=({onSave:e,onRevert:o,onUndo:t,onRedo:a,onApply:d})=>{const{t:p}=s.I18n.useTranslation("vcms"),[u,h]=(0,n.useState)({revert:!0,undo:!0,redo:!0,apply:!0}),[g,v]=(0,n.useState)("none"),[S,w]=(0,n.useState)(""),m=(0,n.useRef)(),f="save-failed"===g||"commit-failed"===g||"revert-failed"===g,y="saving"===g||"committing"===g||"reverting"===g;let b;switch(g){case"save-failed":b=e;break;case"commit-failed":b=d;break;case"revert-failed":b=o}return(0,n.useEffect)((()=>{const e=e=>{const{source:o}=e.data;if("TimelineEditor_ButtonState"===o){const{actionButtonsDisabled:o}=e.data;h(o)}else if("TimelineEditor_MessageState"===o){const{messageState:o}=e.data;v(o),w(Panopto.Core.TimeHelpers.utcDateToFormattedString(Panopto.Core.TimeHelpers.toLocalPanoptoTime(Date.now(),Panopto.timeZone),"LT")),window.clearTimeout(m.current),"save-ok"!==o&&"commit-ok"!==o&&"revert-ok"!==o||(m.current=window.setTimeout((()=>{v("none")}),2e4))}};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)}),[]),(0,i.FD)(i.FK,{children:[(0,i.FD)("div",{css:[c.messageState,f&&c.messageStateError],children:["saving"===g&&p("ViewerPlus_Edit_Saving"),"committing"===g&&p("ViewerPlus_Edit_Applying"),"reverting"===g&&p("ViewerPlus_Edit_Reverting"),"save-ok"===g&&p("ViewerPlus_Edit_SavedAt").replace("{0}",S),"commit-ok"===g&&p("ViewerPlus_Edit_ApplySuccess"),"revert-ok"===g&&p("ViewerPlus_Edit_RevertedAt").replace("{0}",S),"save-failed"===g&&p("ViewerPlus_Edit_SaveFailure"),"commit-failed"===g&&p("ViewerPlus_Edit_ApplyFailure"),"revert-failed"===g&&p("ViewerPlus_Edit_RevertFailed"),b&&(0,i.Y)(s.Hig.LinkButton,{css:l.P.button,text:p("ViewerPlus_Edit_Retry"),onClick:b})]}),(0,i.Y)(s.Hig.Button,{css:l.P.button,disabled:u.revert||y,color:"secondary",onClick:o,tooltip:p("EditorActionButtons_RevertChanges"),children:p("EditorActionButtons_Revert")}),(0,i.Y)(s.Hig.IconButton,{disabled:u.undo,disableRipple:!0,iconPath:r.P$h,iconSize:"24px",tooltip:p("EditorActionButtons_UndoChange"),onClick:t}),(0,i.Y)(s.Hig.IconButton,{disabled:u.redo,disableRipple:!0,iconPath:r.xJN,iconSize:"24px",tooltip:p("EditorActionButtons_RedoChange"),onClick:a}),(0,i.Y)(s.Hig.Button,{css:l.P.button,disabled:u.apply||y,onClick:d,color:"primary",tooltip:p("EditorActionButtons_ApplyChanges"),children:p("EditorActionButtons_Apply")})]})}},22224(e){e.exports=_},39466(e,o,t){t.d(o,{c:()=>s});var i=t(54380),n=t(54782);const r={divider:(0,n.css)({margin:"5px 0 5px",padding:0,display:"block",borderBottom:`1px solid ${n.colorBlackC}`})},s=()=>(0,i.Y)("div",{"aria-hidden":"true",css:r.divider})},41594(e){e.exports=React},43048(e,o,t){t.d(o,{R:()=>l,S:()=>c});var i=t(54380),n=t(41594),r=t(18187),s=t(54782),a=t(68896);const l={item:(0,s.css)({fontSize:s.fontSize13,textDecoration:"none",cursor:"default","&&.MuiMenuItem-root":{color:s.colorBlack77,minHeight:"unset",padding:"5px 10px 5px 15px"}})},c=({autoFocus:e,label:o,href:t,children:s,onClick:c})=>{const{closeMenu:d}=(0,n.useContext)(a.x);return(0,i.Y)(r.Material.MenuItem,{dense:!0,autoFocus:e,...c&&{onClick:()=>{d(),c?.()}},...t&&{href:t,target:"_blank",rel:"noreferrer",onClick:d},"aria-label":o,css:[l.item],title:o,component:"a",children:s})}},51798(e,o,t){t.d(o,{O:()=>a});var i=t(54380),n=t(54782),r=t(43048);const s={title:(0,n.css)({color:n.colorBlack46,fontWeight:n.fontWeightBold,lineHeight:"normal",padding:"5px 10px 5px 15px"})},a=({children:e})=>(0,i.Y)("div",{css:[r.R.item,s.title],children:e})},53163(e,o,t){t.d(o,{P:()=>g,g:()=>v});var i=t(54380),n=t(41594),r=t(84447),s=t(18187),a=t(54782),l=t(62026),c=t(18274),d=t(98944),p=t(67672),u=t(95128);const h={root:(0,a.css)({height:40,display:"flex",alignItems:"center",[s.Hig.IconButtonCssVariables.borderRadius]:0,[s.Hig.IconButtonCssVariables.hoverBackgroundColor]:a.colorBlackC}),ratingSelector:(0,a.css)({margin:"0px 8px"}),userMenu:(0,a.css)({margin:"0px 8px"})},g={button:(0,a.css)({height:22,minWidth:0,margin:"0px 8px",padding:"0px 6px",fontSize:a.baseFontSize,fontWeight:a.fontWeightRegular})},v=({deliveryData:e,sessionId:o,isReferenceCopy:t,showRatings:a,rating:v,isEditing:S,editorActionButtonsProps:w,saveAsProps:m,showShareButton:f,showCopyButton:y,showDownloadButton:b,showEditButton:P,showSaveAsButton:_,showStatsButton:C,showSettingsButton:k,useFullShareModal:I,showHelp:x,helpMenuProps:B,showLogin:Y,showUserMenu:A,userMenuProps:T,onEdit:E,onShare:R,onSettings:F})=>{const{t:H}=s.I18n.useTranslation("vcms"),[V,D]=(0,n.useState)(v??0);return(0,i.FD)("div",{css:h.root,children:[a&&(0,i.Y)("div",{css:h.ratingSelector,children:(0,i.Y)(s.Input.RatingSelector,{name:"viewer-header-right-rate",currentRating:V,onRatingSelected:async o=>{if(o){D(o);try{await l.Services.rateDelivery(e.deliveryId,o)}catch{D(V)}}}})}),S&&(0,i.Y)(c.B,{...w}),(0,i.Y)(s.Hig.SnackbarContextProvider,{children:(0,i.Y)(u.T,{deliveryData:e,sessionId:o,isReferenceCopy:t,showShareButton:f,showCopyButton:y,showDownloadButton:b,showEditButton:P,showViewerButton:S,showSaveAsButton:_,showStatsButton:C,showSettingsButton:k,isEditing:S,useFullShareModal:I,saveAsProps:m,onEdit:E,onShare:R,onSettings:F})}),x&&(0,i.Y)(d.X,{...B}),Y&&(0,i.Y)(s.Hig.Button,{css:g.button,onClick:()=>{window.location.href=(0,r.buildAppUrl)(["Pages","Auth","Login.aspx"],{queryParams:{ReturnUrl:window.location.pathname+window.location.search}})},children:H("ViewerPlus_SignIn")}),A&&(0,i.Y)("div",{css:h.userMenu,children:(0,i.Y)(p.B,{...T,avatarSize:28})})]})}},54782(e){e.exports=PanoptoStyles},62026(e){e.exports=PanoptoViewer},76706(e,o,t){var i=t(18187),n=t(53163);Panopto.ViewerHeaderRight=(0,i.bootstrapReactComponent)(n.g)},84447(e){e.exports=PanoptoApiClient},92796(e,o,t){t.d(o,{y:()=>a});var i=t(54380),n=t(41594),r=t(54782);const s={versionInput:(0,r.css)({width:100,display:"inline",border:"none",color:r.colorBlack6,margin:0,padding:0})},a=({label:e,value:o})=>{const t=(0,n.useId)();return(0,i.FD)(i.FK,{children:[(0,i.Y)("label",{htmlFor:t,children:e}),(0,i.Y)("input",{"aria-readonly":"true",css:s.versionInput,id:t,tabIndex:-1,readOnly:!0,type:"text",value:o,onClick:e=>{e.target.select()}})]})}},95128(e,o,t){t.d(o,{T:()=>m});var i=t(54380),n=t(41594),r=t(94356),s=t(7061),a=t.n(s),l=t(84447),c=t(28438),d=t(18187),p=t(54782),u=t(86996),h=t(5780),g=t(23690),v=t(68896);const S={menuItemRoot:(0,p.css)({display:"flex",flexDirection:"row",gap:8,color:p.colorBlack62})},w=({autoFocus:e,iconPath:o,label:t,action:r})=>{const{closeMenu:s}=(0,n.useContext)(v.x);return(0,i.Y)(d.Material.MenuItem,{...e?{autoFocus:e}:{},onClick:()=>{s(),r()},children:(0,i.FD)("div",{css:S.menuItemRoot,children:[(0,i.Y)(a(),{path:o,size:"24px"}),(0,i.Y)("div",{children:t})]})})},m=({deliveryData:e,sessionId:o,isReferenceCopy:t,showShareButton:s,showCopyButton:a,showDownloadButton:p,showEditButton:v,showViewerButton:S,showSaveAsButton:m,showStatsButton:f,showSettingsButton:y,isEditing:b,useFullShareModal:P,saveAsProps:_,onEdit:C,onShare:k,onSettings:I})=>{const{t:x}=d.I18n.useTranslation("vcms"),[B,Y]=(0,n.useState)(),[A,T]=(0,n.useState)(0),{deliveryId:E,deliveryTitle:R,deliveryDownloadUrl:F,deliveryIsBroadcast:H,deliveryFolderId:V,deliveryFolderName:D}=e,O=()=>{const e=k();T(e),P?Panopto.Application.defaultInstance.updateState({modalPage:"SessionShare",modalHeader:Panopto.Core.TextHelpers.innerText(R),modalParams:Panopto.Core.StringHelpers.serializeObjectToQueryString({id:E,viewerTime:e})}):Y("linkShare")},M=()=>{window.open(F,"_self")},L=()=>{window.location.search=window.location.search.replace("&edit=true","")},z=()=>{const e=!b&&H?{webcastId:E}:{sessionId:E},o=(new PanoptoTS.Locations).getAnalyticsDashboardUrl(e);window.open(o)},N=[];s&&N.push({key:"share",iconPath:r.hHy,label:x("ViewerPlus_Share"),action:O}),a&&N.push({key:"copy",iconPath:r.$BT,label:x("ViewerHeaderActions_Copy"),action:()=>{Y("copy")}}),p&&N.push({key:"download",iconPath:r.g9v,label:x("ViewerHeaderActions_Download"),action:M}),v&&N.push({key:"edit",iconPath:r.hci,label:x("ViewerHeaderActions_OpenInEditor"),action:C}),S&&N.push({key:"view",iconPath:c.O2,label:x("ViewerHeaderActions_OpenInViewer"),action:L}),m&&N.push({key:"saveAs",iconPath:c.N0,label:x("ViewerHeaderActions_SaveAs"),action:()=>{Y("saveAs")}}),f&&N.push({key:"stats",iconPath:r.BwQ,label:x("ViewerHeaderActions_Stats"),action:z}),y&&N.push({key:"settings",iconPath:r.CZ3,label:x("ViewerHeaderActions_Settings"),action:I});const U=["share","edit","view"],$=N.filter((e=>!U.includes(e.key))).length>0;return(0,i.FD)(i.FK,{children:[U.map((e=>N.find((o=>o.key===e)))).filter((e=>void 0!==e)).map((({key:e,iconPath:o,label:t,action:r})=>(0,i.Y)(n.Fragment,{children:(0,i.Y)(d.Hig.IconButton,{disableRipple:!0,iconPath:o,iconSize:"24px",tooltip:t,onClick:r})},e))),$&&(0,i.Y)(g.v,{iconDisableRipple:!0,iconPath:r.TdJ,iconSize:"24px",tooltip:x("ViewerHeaderActions_MoreActions"),menuId:"more-actions-menu",anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:N.map((({key:e,...o})=>(0,i.Y)(w,{...o},e)))}),"linkShare"===B&&(0,i.Y)(d.Control.LinkShare,{isDialogOpen:!0,onClose:()=>Y(void 0),startTime:A,formatLink:e=>(0,l.buildAppUrl)(["Pages","Viewer.aspx"],{queryParams:{id:E,...e&&{start:e.toString()}}})}),"saveAs"===B&&(0,i.Y)(h.k,{sessionId:o,sessionName:R,sessionFolderId:V,sessionFolderName:D,showToggle:_.onCheckCuts(),changeSetId:_.onGetChangesetId(),onClose:()=>Y(void 0)}),"copy"===B&&(0,i.Y)(u.u,{sessionId:o,sessionName:R,sessionFolderId:V,sessionFolderName:D,isReferenceCopy:t,refCopiesEnabled:Panopto.features.sessionReferenceCopiesEnabled,alwaysShowViewInFolderAction:!0,onClose:()=>Y(void 0)})]})}},98944(e,o,t){t.d(o,{X:()=>p});var i=t(54380),n=t(94356),r=t(18187),s=t(39466),a=t(43048),l=t(51798),c=t(92796),d=t(23690);const p=({supportEmailAddress:e,supportPhoneNumber:o,privacyEmailAddress:t,privacyPolicyLink:p,localHelps:u,supportLoginUrl:h,helpUrl:g,showCreatorTour:v,showViewerTour:S,serverVersion:w,showSendLogs:m,shardId:f,settingsUrl:y,openOnMount:b,onCreatorTourClick:P,onViewerTourClick:_,onSendLogsClick:C})=>{const{t:k}=r.I18n.useTranslation("vcms");return(0,i.FD)(d.v,{iconDisableRipple:!0,iconPath:n.QJI,iconSize:"24px",tooltip:k("ViewerPlus_Help"),menuId:"help-menu",openOnMount:b,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(e||o)&&(0,i.Y)(l.O,{disabled:!0,children:k("Site_Contact")}),o&&(0,i.Y)(a.S,{label:k("Site_Support_PhoneLabel"),href:`tel:${o}`,children:o}),e&&(0,i.Y)(a.S,{label:`${k("Site_Support_EmailLabel")} ${e}`,href:`mailto:${e}`,children:e}),(e||o)&&(0,i.Y)(s.c,{}),(t||p)&&(0,i.Y)(l.O,{disabled:!0,children:k("Site_PrivacyContact")}),t&&(0,i.Y)(a.S,{label:`${k("Site_Support_PrivacyEmailLabel")} ${t}`,href:`mailto:${t}`,children:t}),p&&(0,i.Y)(a.S,{href:p,children:k("Site_PrivacyPolicy")}),(t||p)&&(0,i.Y)(s.c,{}),u.filter((e=>e.title||e.url)).map(((e,o)=>(0,i.Y)(a.S,{href:e.url,children:e.title||e.url},o))),h&&(0,i.Y)(a.S,{href:h,children:k("GetSupport_Link")}),g&&(0,i.Y)(a.S,{href:g,children:k("Site_Help")}),v&&(0,i.Y)(a.S,{onClick:P,children:k("Site_ShowTour")}),S&&(0,i.Y)(a.S,{onClick:_,children:k("Site_ShowTour")}),(0,i.Y)(a.S,{children:(0,i.Y)(c.y,{label:k("Site_VersionPrefix"),value:w})}),m&&(0,i.Y)(a.S,{label:k("SendLogs_Tooltip"),onClick:C,children:k("SendLogs")}),!!f&&(0,i.Y)(s.c,{}),!!f&&(0,i.Y)(a.S,{children:(0,i.Y)(c.y,{label:k("Site_ShardIdPrefix"),value:f.toString()})}),y&&(0,i.Y)(s.c,{}),y&&(0,i.Y)(a.S,{href:y,children:k("HelpMenu_ModifySettings")})]})}}},t={};function i(e){var n=t[e];if(void 0!==n)return n.exports;var r=t[e]={id:e,exports:{}};return o[e].call(r.exports,r,r.exports,i),r.exports}i.m=o,e=[],i.O=(o,t,n,r)=>{if(!t){var s=1/0;for(d=0;d<e.length;d++){for(var[t,n,r]=e[d],a=!0,l=0;l<t.length;l++)(!1&r||s>=r)&&Object.keys(i.O).every((e=>i.O[e](t[l])))?t.splice(l--,1):(a=!1,r<s&&(s=r));if(a){e.splice(d--,1);var c=n();void 0!==c&&(o=c)}}return o}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[t,n,r]},i.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return i.d(o,{a:o}),o},i.d=(e,o)=>{for(var t in o)i.o(o,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.j=2146,(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var o=i.g.document;if(!e&&o&&(o.currentScript&&"SCRIPT"===o.currentScript.tagName.toUpperCase()&&(e=o.currentScript.src),!e)){var t=o.getElementsByTagName("script");if(t.length)for(var n=t.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=t[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{i.b="undefined"!=typeof document&&document.baseURI||self.location.href;var e={2146:0};i.O.j=o=>0===e[o];var o=(o,t)=>{var n,r,[s,a,l]=t,c=0;if(s.some((o=>0!==e[o]))){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);if(l)var d=l(i)}for(o&&o(t);c<s.length;c++)r=s[c],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(d)},t=this.webpackChunk_panopto_webpack=this.webpackChunk_panopto_webpack||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})(),i.nc=void 0;var n=i.O(void 0,[4223],(()=>i(76706)));n=i.O(n)})();
//# sourceMappingURL=file://engfs.d.panopto.com/share/jenkinsbuilds/rel_rtc_16.4.0/16.4.0.00038/_PublishedWebsites/WebUI/Scripts/Panopto/Bundles/ViewerHeader.js.map